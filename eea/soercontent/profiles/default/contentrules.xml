<?xml version="1.0"?>
<contentrules>
 <rule name="rule-30" title="Inline comment added"
    description="New inline comment added" enabled="True"
    event="eea.annotator.events.interfaces.IInlineCommentAdded"
    stop-after="False">
  <conditions>
   <condition type="plone.conditions.PortalType">
    <property name="check_types">
     <element>Fiche</element>
    </property>
   </condition>
  </conditions>
  <actions>
   <action type="plone.actions.Mail">
    <property name="source"/>
    <property
       name="message">A new inline comment has just been created on the EEA website by ${icomment_user_fullname} (userid: ${icomment_user_id} email: ${icomment_user_email})

     Comment: "${icomment_title}"
     Quoted text: "${icomment_quote}"

     Item type: ${type}
     Item state: ${review_state_title}
     Item title: "${title}"
     Item URL: ${url}

     ----------
     This email is auto-generated by EEA Web CMS and delivered to you because you are involved in the workflow.
     If you no longer wish to receive these emails, click on the following link ${url}/unsubscribe-inline-comments
     You may also filter the emails via your mail client rules, e.g. outlook rules.
     ----------</property>
    <property
       name="subject">[EEA Web CMS] New inline comment created by ${icomment_user_fullname}</property>
    <property name="recipients">${icomment_users_emails}</property>
    <property name="exclude_actor">False</property>
   </action>
  </actions>
 </rule>
 <rule name="rule-31" title="Inline comment reply"
    description="Inline comment replied" enabled="True"
    event="eea.annotator.events.interfaces.IInlineCommentReply"
    stop-after="False">
  <conditions>
   <condition type="plone.conditions.PortalType">
    <property name="check_types">
     <element>Fiche</element>
    </property>
   </condition>
  </conditions>
  <actions>
   <action type="plone.actions.Mail">
    <property name="source"/>
    <property
       name="message">Inline comment replied on the EEA website by ${ireply_user_fullname} (userid: ${ireply_user_id} email: ${ireply_user_email})

     Reply: "${ireply_title}"
     Comment: "${icomment_title}"
     Quoted text: "${icomment_quote}"

     Item type: ${type}
     Item state: ${review_state_title}
     Item title: "${title}"
     Item URL: ${url}

     ----------
     This email is auto-generated by EEA Web CMS and delivered to you because you are involved in the workflow.
     If you no longer wish to receive these emails, click on the following link ${url}/unsubscribe-inline-comments
     You may also filter the emails via your mail client rules, e.g. outlook rules.
     ----------</property>
    <property
       name="subject">[EEA Web CMS] Inline comment replied  by ${ireply_user_fullname}</property>
    <property name="recipients">${icomment_users_emails}</property>
    <property name="exclude_actor">False</property>
   </action>
  </actions>
 </rule>
 <rule name="rule-32" title="Inline comment closed"
    description="Inline comment closed" enabled="True"
    event="eea.annotator.events.interfaces.IInlineCommentClosed"
    stop-after="False">
  <conditions>
   <condition type="plone.conditions.PortalType">
    <property name="check_types">
     <element>Fiche</element>
    </property>
   </condition>
  </conditions>
  <actions>
   <action type="plone.actions.Mail">
    <property name="source"/>
    <property
       name="message">Inline comment closed on the EEA website by ${ireply_user_fullname} (userid: ${ireply_user_id} email: ${ireply_user_email})

     Comment: "${icomment_title}"
     Quoted text: "${icomment_quote}"

     Item type: ${type}
     Item state: ${review_state_title}
     Item title: "${title}"
     Item URL: ${url}

     ----------
     This email is auto-generated by EEA Web CMS and delivered to you because you are involved in the workflow.
     If you no longer wish to receive these emails, click on the following link ${url}/unsubscribe-inline-comments
     You may also filter the emails via your mail client rules, e.g. outlook rules.
     ----------</property>
    <property
       name="subject">[EEA Web CMS] Inline comment closed by ${ireply_user_fullname}</property>
    <property name="recipients">${icomment_users_emails}</property>
    <property name="exclude_actor">False</property>
   </action>
  </actions>
 </rule>
 <rule name="rule-33" title="Inline comment opened"
    description="Inline comment re-opened" enabled="True"
    event="eea.annotator.events.interfaces.IInlineCommentOpened"
    stop-after="False">
  <conditions>
   <condition type="plone.conditions.PortalType">
    <property name="check_types">
     <element>Fiche</element>
    </property>
   </condition>
  </conditions>
  <actions>
   <action type="plone.actions.Mail">
    <property name="source"/>
    <property
       name="message">Inline comment re-opened on the EEA website by ${ireply_user_fullname} (userid: ${ireply_user_id} email: ${ireply_user_email})

     Comment: "${icomment_title}"
     Quoted text: "${icomment_quote}"

     Item type: ${type}
     Item state: ${review_state_title}
     Item title: "${title}"
     Item URL: ${url}

     ----------
     This email is auto-generated by EEA Web CMS and delivered to you because you are involved in the workflow.
     If you no longer wish to receive these emails, click on the following link ${url}/unsubscribe-inline-comments
     You may also filter the emails via your mail client rules, e.g. outlook rules.
     ----------</property>
    <property
       name="subject">[EEA Web CMS] Inline comment re-opened by ${ireply_user_fullname}</property>
    <property name="recipients">${icomment_users_emails}</property>
    <property name="exclude_actor">False</property>
   </action>
  </actions>
 </rule>
</contentrules>
